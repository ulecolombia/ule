# ============================================
# ULE - CONFIGURACIÓN DE DESARROLLO
# ============================================

# Database - PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/ule_db"
# DIRECT_URL - Requerido para Vercel con Prisma (sin connection pooling)
# En producción con Vercel Postgres, usar la misma URL o la URL sin pooler
DIRECT_URL="postgresql://user:password@localhost:5432/ule_db"

# NextAuth - Authentication
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-super-secret-key-change-in-production"
# IMPORTANTE: Genera un secret seguro con: openssl rand -base64 32
# Debe tener al menos 32 caracteres

# OAuth Providers
# Google OAuth - Crear en: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Apple OAuth - Crear en: https://developer.apple.com/account/resources/identifiers/list/serviceId
APPLE_CLIENT_ID="com.yourdomain.app"
APPLE_CLIENT_SECRET="your-apple-client-secret"

# Upstash Redis - Rate Limiting (REQUERIDO EN PRODUCCIÓN)
# Crear cuenta gratis en: https://upstash.com
UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-token"

# ============================================
# SEGURIDAD Y AUTENTICACIÓN
# ============================================

# Encriptación de Campos - REQUERIDO (Ley 1581 de 2012 - Protección de Datos)
# Genera con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# O ejecuta: node scripts/generate-keys.js
ENCRYPTION_KEY="your-64-character-hex-string-here-change-in-production"
# IMPORTANTE: Este valor debe ser exactamente 64 caracteres hexadecimales (32 bytes)
# Encripta: numeroDocumento, telefono, twoFactorSecret, twoFactorBackupCodes
# NO compartas esta clave ni la subas a Git
# Genera una nueva clave para producción

# Logging Seguro
LOG_LEVEL="info"
# Opciones: debug, info, warn, error
# En producción usar: info o warn

# CORS - Orígenes Permitidos
# Separar múltiples orígenes con coma
ALLOWED_ORIGINS="https://tu-dominio.com,https://www.tu-dominio.com"
# En desarrollo se permite automáticamente localhost

# Content Security Policy - Dominios Permitidos
# Personaliza según los servicios externos que uses
CSP_SCRIPT_SRC="https://www.googletagmanager.com,https://sentry.io"
CSP_CONNECT_SRC="https://api.anthropic.com,https://upstash.io"

# Validación de Entorno
# Solo usar 'true' en desarrollo local si tienes problemas
SKIP_ENV_VALIDATION="false"

# ============================================
# EMAIL CONFIGURATION
# ============================================

# Resend - Email Service (RECOMENDADO)
# Crear cuenta gratis en: https://resend.com
# Requerido para: recuperación de contraseña, envío de facturas, notificaciones
RESEND_API_KEY="re_..."
EMAIL_FROM="Ule <noreply@yourdomain.com>"

# NodeMailer - Fallback SMTP (OPCIONAL)
# Si no usas Resend, puedes configurar cualquier servidor SMTP
# Ejemplo con Gmail (requiere "App Password"):
# 1. Habilita 2FA en tu cuenta de Gmail
# 2. Genera una contraseña de aplicación en: https://myaccount.google.com/apppasswords
# 3. Usa esa contraseña aquí (no tu contraseña normal de Gmail)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="tu-email@gmail.com"
SMTP_PASS="tu-contraseña-de-app"

# NOTA: Si ningún servicio de email está configurado (ni Resend ni SMTP),
# el sistema funcionará en modo mock/simulación para desarrollo.

# ============================================
# CONFIGURACIÓN DE EMPRESA (FACTURACIÓN ELECTRÓNICA)
# ============================================
# Datos de tu empresa para generar facturas electrónicas DIAN
EMPRESA_NIT="900123456-1"
EMPRESA_NOMBRE="Tu Empresa S.A.S."
EMPRESA_DIRECCION="Calle 123 #45-67"
EMPRESA_CIUDAD="Bogotá"
EMPRESA_TELEFONO="3001234567"
EMPRESA_EMAIL="contacto@tuempresa.com"

# ============================================
# IA - ASESORAMIENTO EDUCATIVO
# ============================================
# Anthropic Claude API - Sistema de asesoramiento educativo
# Crear cuenta en: https://console.anthropic.com
# IMPORTANTE: Solo para asesoramiento educativo, no recomendaciones profesionales
ANTHROPIC_API_KEY="sk-ant-..."

# Límites y configuración de IA
MAX_TOKENS_PER_REQUEST=4000
MAX_CONVERSATIONS_PER_USER=50

# OpenAI - Alternativa/Fallback (OPCIONAL)
OPENAI_API_KEY="sk-..."

# Storage - File Uploads (opcional - para producción)
# Desarrollo usa almacenamiento local en /public/uploads
# Producción puede usar Vercel Blob, AWS S3, Cloudinary, etc.
# BLOB_READ_WRITE_TOKEN="vercel_blob_token_here"
# AWS_ACCESS_KEY_ID="your_aws_key"
# AWS_SECRET_ACCESS_KEY="your_aws_secret"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="ule-documents"
# CLOUDINARY_CLOUD_NAME="your_cloud_name"
# CLOUDINARY_API_KEY="your_api_key"
# CLOUDINARY_API_SECRET="your_api_secret"

# App Configuration
NODE_ENV="development"
NEXT_PUBLIC_APP_NAME="Ule"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# ANALYTICS Y MONITOREO
# ============================================

# Google Analytics 4 (opcional)
# Crear propiedad en: https://analytics.google.com
NEXT_PUBLIC_GA_ID="G-XXXXXXXXXX"

# Sentry - Error Tracking (opcional pero recomendado para producción)
# Crear proyecto en: https://sentry.io
NEXT_PUBLIC_SENTRY_DSN="https://xxx@sentry.io/xxx"
SENTRY_AUTH_TOKEN="xxx"
SENTRY_ORG="your-org"
SENTRY_PROJECT="your-project"

# Feature Flags (opcional)
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_AI_ADVISOR=true
